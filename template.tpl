___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "WebEngage Event API",
  "categories": ["ANALYTICS", "CONVERSIONS", "DATA_WAREHOUSING", "EMAIL_MARKETING", "EXPERIMENTATION", "PERSONALIZATION", "REMARKETING"],
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAxIAAAC+CAYAAACh8jnDAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMS8xNi8xMpseyksAAAAgdEVYdFNvZnR3YXJlAE1hY3JvbWVkaWEgRmlyZXdvcmtzIE1Yu5EqJAAAIABJREFUeJztnT+W5Lay5j/ducaM9fJ6zxPljafUChrtjaeSOZbYK7itFYhaQbVWwNIKumU+i+wVVMl7Xqa88aruCmoMJG9VpzKTATACf5jf7xwctbqRQAAEwQggEPgKhBBCCCGE1McWwObo7x4APGWQhRBCCCGEEFIwLYCPAB4BPJ9Jj4c8Lf5qaBBCCCGEEEKuiPe4bDxcMip60KAghBBCCCHkqtgCuEe4AXHKoHifWHZCCCGEEEJIBlosNyCO0wDuThBCCCGEELJabqFvREzpHjQmCCGEEEIIWR3vYWdE0JgghBBCCCFkhdzA3oiYUp+oTYQQQgghhBBDNoiLzLQk8QA2IYQQQgghldMjrRExpW2Kxq2Rr3ILQAghhBBCrpLmkDbwyvzPEWXsAfx2+POPh/JiyvgOvBE7GBoShBBCCCFEE3f4b4MXxf5bvBxudtDhDsC7o7/r4cPGhvIJwA8L5SGEEEIIIYTMsIE/GN0B+Ah/P0NKd6RHnI66tOScBc9LEEIIIYQQYkADf7+Dxk3TS9NwQc4lRg3PSxBCCCGEEKKI5QVxMen+gqxLDB3eL0EIIYQQQogSHfIbDqeSOyGrUyj3NrKfCCGEEEIIIa/4iPxGw6n0iC8PVrfQu4fiZlGPXQmM2kQIIYQQQuaYQrQ6AG8Of16zC9ATgG/AkLAXoSFBCCGEEEJiaOANismwcDmFMYAhYWegIUEIIYQQQrTYHtK38IZF7VGQ3sHfV0FOQEOCEEIIIYRY4vClcdFklCWUJ/hbr/eZ5SCEEEIIIeTq2cAbFB3KuJNiLg0WnbAGuCNBCCGEEEJy0QH4ObcQAn4C8MGg3Olsydc47Qa2B/AHgBHAg0H9hBBCCCGEVEmL/DsO0qR13uMGQI/wULU7fBnulhBCCCGEkKvFIb+BIE2XbtOeo4HffdkpyLHD+iJkEUIIIYQQEkSD/AZCSOoi2tcXIgshhBBCCCGrIrdxEJokLk4bALcJZOkFshBCCCGEELJKaojc9DrNuTi1CD//sCTdzshDCCGEEELIKhmQ3zgITd2JdjQZ29LOdzMhhBBCCCHrokN+wyAmHbs4fcwoyyPquuiPEEIIIYSQxbTIbxTEpHv4sxATDdK6NB2nj9IO1+J/pK6QEEIIIYSQV2xQp2vOfwL4nwD+6/D/TwD+F/KFZv3fAD7DX2JHCCGEEELIVZB7d0HqPnTq791RW3IeHh9k3U0IIYQQQsg6KDly0w7eWGhw2pjY4UsXp21meRtZly+Hrk2EEEIIISQ3/wfeNac0PgD4vwD+G+ddlzb40sXp/wH46kS+lPzXfBZCCCGEEELq5z3y7zy8To8Abs7Iem73xAnzpdhBIYQQQggh5CpwyG88TOkel92Dzsm6w5cuTjnbdEl+QgghhBBCVkVuA+IZQI8vjYFz3J75/fEt0+fyWadW0AZCCCGEEEJWwYD8RoSUDc5Hcdoe5dtlaEsX0BZCCCGEEEKqJtfqfagRMXFzpqz7o3yukvYQQgghhBBSJecU85KV7uFMmd1RvtRG0rCgTYQQQgghhFTFBumNiKUKd3Oh7JwuTjQkCCGEEELIVXFuhd8i7SA7WD1Hd6b8YxenlDsuvUK7CCGEEEIIqYYO6ZRtpyj3ud2G7ijfx0RtO66XEEIIIYSQVbNFGkX7OEzrUtyFuo5dnM5Fe9JMrXL7CCGEEEIIKZ5zq/ta6RE6Lk3H9Gfqy+Hi9Np4IYQQQggh5Co4p5Brpc5I7ku7Dcd1Wro4Pdo0jxBCCCGEkLKxXrFvDGVvhfU2sHNx6q0aRwghhBBCSOlYKdkfE8g+nKl7OMr3PlB2aXJWDSOEEEIIIaR0rC5we59A9iag/nNGR2zambWKEEIIIYSQCrCK3uQSyd+dqf8Rti5OrV2TCCEkHw2832YPm2gZhBBC1sUO+oZEqu/PpZush6O8Wi5O3I0ghKySG3y54tJmlYYQQkgNWJwhSIm7IMexi9P9hbzSdGPZGEIIycEpP9cup0CEEEKqYIO6DQngfJjX47sslrpypThETgghyWhwfoWlyyYVIYSQmuiha0g0SaW/fLfEsfLfnck3l6wu2COEkCwcuzLRkCCEEBKD9qFrl1R6zyUXrWN3pBgXJ7o0EUJWgyRkX5dLOEIIIdUxQM+Q6NKK/m/OtWGpi1OXRHpCCDGmgXwlpcsiISGEkBpx0DMk7tOK/m8uGQjHLk7SOzT6FIITQog1c65MNCQIIYQsQXNXokkr+r/pLsjkXuW7FDo2t0H0BV/lFoAQUj23CL8pdATwWV+U5DwB+ARgn1kOQghZOw5/vX8hljsA75TKCmEDbwA0J/5tD+A7+O8KcLm9DwDevspLCCHV0UAn7vUa0i0YMYMQQqxZw67EzQWZbo/ynnJxuge/N4SQygl1ZbqGxMmdEEJscdCbs4e0on/BubslnnHZxalPKiUhhBggPQR2jel4NYkQQoguPfTm7FC3XC0anF+M2x3lnXYwunTiyfkK3trZCvOPdqKY0iBsC+sJ3v+sRraQrYqOxnKUjhPkGY1lqI0GfhVFOl9cK9+h3vmDEEJKp4HeDvAT/FmDHHP2e5xffPoFXxoOWxT8XQmJV1urAnFpC+lUKuIkfCQSn/XHbNKVg2QckBfoyiRP3JUghBBbLl3wFpp2yOeWeklnq0rnlioIubaAlhKjANXo67yBrG19LgELQtJPxNMiv3JeUxqiepkQQkgImsE+cp1xu7SYX9WitnTF/vjCjBqIvVq9zSDrUi5FAqi9bdpI+ol4dsivnNeUhrhuJoQQEkCsfncunQvLas0lHbyaBfwW8o6ujQ5xA6rPIOtSpIdgm0zylcQax7oVO+RXzmtKQ1w3E0IICUTTxekZ3oPlJpHsW8wfHH9EJTpbA3knuywSxhO79VXjOQJJW6vaKjNEMgaIp0V+5bymxDMShBCSjgH683gPO1enNlDmwUgOdaQKd5dJvhikZwbOpZoOujSgkhOCpK/IC1twZ0KamrguJoQQEsEGNsFAHuF1pkZBxht44yRWzlZBBnOkbjFDLgEjkJ4ZOJeq8U2DfNU41ZZd6Uj6inzJBrxDYi7RUCeEkPRon5c4TvfwC+lOIEtzyNdBb7fkERUEAQpRumuhx7IHN6QXORppW4mHfRUPQ8Ge/9AQQgjJQ4t08/0jvI74OmlGkTqVqgh4JG2MyyRfKDssf3DFW4AHJG0dsklXHpJnT86zQfj9LGtNj6jL5ZMQQtbK2nfNi/Mq+fvR/3+CTEiH8m/93ULHr83B90vJNJC19XdbMcgV8QTgB3j3v58RbnCPAD4ry5SDPfz88JRZDkIIIcBP8N+jNrMcVtzCfz+L/eZIw2jVsIUvactOkKdPLXgELWTPrabD49ZI+ovIaBC+pdtlkJMQQsh10CP/7oFVKvosXshhldJdfiRuF60gzy6x3DFIXpga2pESGhL6dKAhQQghpAzWbEw4vW7SZwdZI4rz0zpCqlhL2tsklDsGycHXPpt0ZUJDwgZpmNguk3yEEEKuh7UaE8V4Bv3txN+Nwt++UZRDG4mRMx79d2l5udhCtju0Bn90Uj4PAL4D8CG3IIQQQq6edwB+yS2EAVsUvCDXojJr6ASSU/uTcSAJe1tyyC3puZbSXdFSwx0JexzO75Z12aQihBBybbRYZ9jyIs++htwGXapyKjn4OckubW+pSM6ClGz05aLmZ14T58LEdhllIoQQcn1IXW9rSoNqDykijcBSostPg/COHwS/ceaSxyGxsIs+4Z8JGhJpafHlWG1zCkMIIeQqWeMdSO9Ve0iJDjLhS1RQW4R3usQ9qMS2SqNsuUzylQwNifQ08HNLkZMeIYSQq+EG63J1+ojCvIQcZILvMsl3CYmleexTJlHIS3QPkp6PIH+F/UYIIYRcLxusK6rTIwrzFJJaak0m+c4xJ/fjmd/tZn5XYlsHyKxU8ldoSBBCCCHEQaZP1ZKK2Z2Q+pC1meQ7hWRnoT/z217w29ZO9Cgkz4duJKehIUEIIYSQiRus5zB2st2JU/dITEjvHXijIYgSkk471y5Je78PkMUaJ8z3yVIIQgghhJAV8AnANwDeQn6nWqlMh8qz7k40kFk9u0zynSIk7OsxkjCw59yictChrmdTGtyRIIQQQsg5GnhvldoPZWc9O7ETCPiMMs4OSAyBuQPTEkOklMs/BszL2meTrnxoSBBCCCFEQov6w8aa7E78febfP0HmY+8A3C0VZiFOkOd3wb/PGQo3AB4kAhmygU57CSHXRwM/fzSQuaZObp8j/Nz3ZCBTKjbwc7wD8B+Yn+8fAPwLvu2joVw14PDSf0C4W/M0jvZHaS04+L7ZYL5v9gD+hB9fD1hXP2jg8NKX32Je+X0C8AdextRoINPdIW3g9cA3h/8WcahZyA18376Dotv7V4JKJVF/7uAFy0mP+cPQc35vW8zvWjwA+E4slQ3S5/IP2H/0pw/LqQl0+rdj5eMBX06iORQTyY7D3PshxeF0/0wf5NeG6esJ8QH5jVayDhyAH/FiQCxhD/8R+ow6zmBt8dL2pTvKDwB+g2/3fmFZJTMZW28Of24M65rmuc/w3+e9YV2aNPDf4u+x/K6mPfyY+g3XOedPirmDntfHiJc5yrJPt/Dyf4sXY7sGPsHr7eb6l8RdaPK/ys2cG5ZURokvXO6Bcot5GS3vvdgeZJDegC6RtUNaFzlL16YGfidvENYzN24/whvJuccdicdBb3t6ENa5gX+v5ubGJWl3qKPEsdlCb446lT5CpkB2inV2wb0g5wZl+IPfw8+fjWFbl+Bg6+JyD1mESKdY5xDeDYvZIt1428GPqRTz1Bb++d3C92vu9+lSSnZ2YhAKlPPsgCTsq/Q+hV5QVu4LPyQfx065zg38y7ET1L0kSSfRpUhkCcXB3oeyB28qrxEHvTEwzNQ1GRApP2CPKCfUdIu0IRw/4rLS2ynW1UX1yHlSGJtL+9YptzkWh7R3Dexwue1Osa4hrkuiaJHvzoZHeAU/9cLH5I7ewr9vk5ExoAxDwzyyk/T25JwfEYmMrbCsVlBWryZ5ONJdIqdY53ukH+w72BpsEhmkOKSfGAeU84FNzQ18HzzCdoVWEwfdZ3+pnp1iXaHpHvkWlRrkVVDaM3J1ivV0cV3zF3IYm0vHfK5xtYHMC8Aq3Z6RyynWMUT3jhwH2x3CkFT6t2NyLRyQtk/MdC7Jav8z8t6gLFkFboRlSRT1nZ7owUxK1NyA0MAh/0rVAJstbkndc0xxmnP2T48y3UosGfDXMVJ6HzjovhOn6BTrWJJyhBrMsdhxKp1S+jrF8rv4Lvo3pfRVrvaH4JD/G/gMr4Afz3FOsfxhUS9dpkH+7+Slfi0lEuc5OqTtE7MdG8mkk/OchGSwhFByGFjJyshSoy73CsypsdUubNMxknov4VDOxzhrjOgMDDjdBy6jTHM46D3v4UT5vWL5WqmN7KsQNiiv7f2RjJ1i2d3Cvjr17tSWTinVFrQZ2hbSbqdY9rCwr85Ri9HaGbVfixuk7ccdDL6nvbDyHMq1ZIX+3NbgOSRKdC5Xrp1AtnZB+Q3K2X48Tv2Cdh0jqe8crUHbNFIX3Rt1MaC+PnDQe87DUdm9YtnaydLA3aDcuap7JWdnVG4IW9Sh0EmT9UpyX0Abz7V7wimWOyzsr2NK2K0PTVlvgBbQIP18p7o70QorzaFcS5R+F1imE5Sp/eJJaARyPSPeFUjzYzOcSFrlagxsSV2n6JTacJy0JogeZU+GGsyNJa0xoomDzvM9nnt6xXIt0iNsXBNLNiKmNBlRnWKZXURftViXETElq52JvoC2XUr9QU6nWOawuNdeaFD+u5l6TGmSenzuoLQ70Qgr1ByMUiQDNgbJxJuaViDTLrLsJUbEDt6gk1zOsjnku0W876nGyy6p5xhp4IHjd6KDPL70FDquR/zzqGEyXMKA+T4ozdXJQW9in+bZVrFMyzTJq0UNRsQ0BhvkNSQkO/Y1J+0w530BbZKkG5RpSKxh56uG72eL9P2ssjshnbhT0gjkiT0vINmWS+2X3gtkCnXjAuJf/gHLlTWHuN2KYWG9oWO5DZBtB72Y1S3iDK6l/VMyIeOlyyPiX3DQm9AHyINglJLapR34ir6A9oQ8q06xvC6gn9ag1ElSzDfvFG0BbZGm6VycVnnD8u5b1XirwZjYIv2Cyg4LdT7p4dtFlQTSCuSJdbeSlK01gUnZCWQKNW4ahL/899B/zg7hL0W/oD5J+RPSCdIyln7MobUl/VMyA8L6YUD+j4KD3mQ+oI4V+ddpt7gHPTG7grmT5rPqhP20QRnRhlKlRtgv56jNMH+G7vMdFPpvLUbElCwv9dUi11mU6N0JJ6ygiyk8Es2wr8c0grJ30ZLbyPOMsIcb4yLQLW3IDF2gPG1kPZKyJyR9lOKgVoNwJbqUS8I0Ce2DZ+R3dXIIl3ltqV3YhzUqe9qpE/ZVbQddl6Ze2C+nuDaj61QaFvbf2owIjXGVkhwLLDscvqlfBQr7LMgzAngbWG4sj7isvO0BfLOgfElkiG8O9VjzHvM7ICPC+v4WckXz6VD2Q0D5sTjIFfNYuSRj+Su8nFe4xDsAd4H1L6FHmFL2HZY9ty3yr+i/5hbxEVt+QR53J4d1u5tJeIAfi7HUEPPdGsn4dUg31sbDfx8A/Ovw52/xMl+4RHIAwD/gvwehhHwH18qIeL1t7e/lDwA+5RZCwBbpd9+fEDGnS1c5UiBZnVrqeiRx52oX1iFF0vddQHlOUN6UckwUIVulMR9N6TjeXfj3R+SbQNsLcp16fksYAuqqIQ1Ibxg5BbnXkJrI/usKkL2E1An6ytLt7RHhhnwDr6jvjPumDZBpgrtcPg0RfQeUdd+UVZpbsC6JVHfFTDeDR/WLdPvExRQeSCeQY+lhaCeoI9WN3hKlOmRy3wnKmwZMo9GACEKMiTawbGmZl/ol9ypMyHZmt6CeFBNT6pTa1ckpy19riln5Tek6cY+XFWp3lKZd4ZznU7qZvnLGdS9VqFrYPcs+Qp7BSJbjtDvI1+Gv46o9/H0qWU6lIaLvXAK5pvfxVL/dHP7+I+yN1FR6nhYd7Mbx4kAyUus9xSFkyUunYUXOTXopbvSW9HuIHJ2gvKnM3MpyyEHnkOctncTO/VvufpnoIX+Wse+D5F2rNXWRfRKKS9CWU8+8h1dU3Bm5tvAf5B5plPUhrNsApNmNuEXYgskGaVbZQ8erxdkI7e+A1cHc0J1XZyDDqfHuAuVqkX7OHQJltDxXsoN/t5pAmbawjejmAuXJzQ303rMdlL1vJIPH+rT7RiBD6ItxDsnE7JTqOodk5bkXlhWyutdqNWAhLWTydgFlLnmp2kWt0Ue6QiodI8cMwvJrTQPst65dwvbsEDdGN0ijtIfKZGngDFi245qqz6bUzciiXZ/VYpIzkDV0bA1GMjxD5xIvTUVQ8h6E0BnJ0WH5XNzAZtewhihOxzRY1hc7GOk7vVAAyw+zJH6y1uEpiRJvvQMjMWZaYVmdoKxnlLeVJ+mDkFX32BertH4Bwvx8m4jyh4Dya03Wrk4uUTs6BVmtQzmGKKadoRxdgBxzOKRR+i7JbHH53KX6ltIbyCvF8mzEAD39J9Xli0OATA30x7rFOUyL8dUqy5iK0L4YYHxPmnSyshRC0ilag7IR1GVtqUpe2kaxrBIPF0lXJqUGZMwkUmK/THSQtSHG6B2EZa8hdRH9I8ElkL1VlNfSmAj5NuyMZGgDZJCSIpZ+d6F+7YOvuwV9IcHC8GmEdfcGdT/DJlxoCmNiCJBHu+8sL3/TdvWzficsaTE/Pw1I5MIl3T61XKXfzdSt/bDn6nuG3YvgBHVLDZlWUNYzyrW6O+i96DGTSKvSChukhlbMmZ5BUO6a0gD999kZy2wRvtIqNnknrN9C0XyG7bfJ2pjoLtQ9KNeV4qyjdv84QZ1W7nKWCrG1MTEI5WiU67W+QdriLIczlNeaLU6PowEZ2iUZ0Far9I2g7l65zpxhYDtB3dIJX/LcdnqimyCZFCS7UaGTR+n9AtgZioOw3DUl7WhlzlDWQVHOYyTvW2iSugf2BnVb9tWE5eVQ3YV6tZVjt6QThGgrxxKZW+U6n5EmuqG1O5aETrneFEFLnLLMJbo3h7DBy9zaI19UTvFgsrA0JZO0tluVZGWsV65zYhDULWlvIyjnGWWvugN6hlXo5NHqNcEM6Upb6EQoGYNrTJrvtDOUs1GU8xgLpXgQ1m2xatyEd0EUVu9Md6FO7bpSoN1PTlCnRWSrVBfadQay53onu/DmR6M9zkp1cQ6hyS2A1DK2OCchmQQsHvJcnVZhYCX9LEGiEKQIZbsUiWvdTlBOyKRRQ79MSP2kQ94R7Um4ljQE9NEczkhG69Uxi0hAkvfTGdTbx3VBFBbyP+O88qW9Wp0qQs2gLLcT1KltoErGsxZWblmDoG5NV8PU5w2douzP4E3oX/D3yN89wF+NPTcQvof+1eJzxskkmzafZurewE/mD4p1OkGeUVjWj4I8d8KycvIEL2d7IU8D3Wdxp1ROCn6FbJJz0H8318Y+twACfjMu/wn+PdJ0QWgEeZxifRO/GJR5jvGQXKL6nqDbvr1iWZdIvbLrDOpMOa6e4Of4nxPWOfG9Ylm/wkZPO8cI3XnsRwAflMq6aiQ7A9qWuhPU2SnXOSFZ0de2UiWry5I6pauKjar0dmiE/w1ZfSjl8jkpEr/jPqC8QVDe2pL2IUBnIGOqnbLOQPY5tMdcDr/mNlLWS6lLKL81FrtdbqbOTrm+HLvVTaSsl9IgqFdzJ6SJbPsStN001+DepMLfFvz2d0GeBroDRmIRW62ySsrVtNgBvR0JSTkPqGMFFpC1+Y1SXXvo7jKlQLJK7ayFqJgPAN4i7YpZDGOienKMf6dcnvXOzSm443eZHO4h3yqXl+MZ7zPUewM9xXmPPLqGdp855fKqZYkhMQrzuQV1hJY1bcNbsMf84HfQvYhmbiV8D1l7JUr1KMhTCk+Yl9cp1VWjMjAK8jTgisoxT/AGxE8o34gAgD8S1bM3KPPS2LPYARwNypzjCXXOHylokcc9R3tsSRZULficuD6thTkgn66xh65+qNknVbPEkNhD9oHR6uwG85OA9aQ9CvI4pbok5YzCsiSTZ64JMZa5iXQDnd2w1BO2BtJzQrW5bFnyCcA3qMugHhPVY7E4c2nsNcp1WZ2bk5DK2KuFKfRkn6n+Rrm8Ubm8UuvV/Fbk/KaOimU5xbKqZokhAcgUd7ewjpByrAeoRNnWcm+SGGDS9jpBnlFYVilIlBuNya82t6YJidzOWogKeALwDsAPqGMX4jW1js05tA3cUbm8WuouiS288bBDvlDaTrm8PfLNGanffadY1l6xrFA0dUQuxB2Ijdo08Rnzfo7NIe0X1lWCe46kfKdUl6QciSHXCPKMgjylIV1xX7JL9YR6zo0c8xnzY+jrBHKUzAhvROzzihFNSiVGO3LTJf5Dubw/lcsLYa3G3iWaQ3LwZxIc1ulGuc9c/4g0i0Ha7/0t8hlg2uPQoU79SZWlhoRUSbvB8lBZkrCv+4V1zDH55rsLeRosN5wk5yOk2/WNIE+NH7tRkGepolxjv0xIZG+shSiYX1B3BJx94vpSfvi1FZec73Ftu1wStnj5Rm3gDb/pmblMMklwyuXldntNNba0le81reQ3uQUogaWGBCCzit9gmSExTVhzcqTgd8y3d6nhNGc0AbqH3dfqx9ss/H3NhoTmGYm3SwQxYEC8UvAAvwtR87MF8q+GEjkjylawTzEZCg4vhkIDKk4l8QdsLv09xiWoo1aa3AKUgIYhIVGs5/59DsnLkuqw8CjIs9RwkrhxabZ3r1hWSp5w2cBsFpb/r4W/z8koyLNGd4NLfIDfiVjjKjE5z5hbgApwWL8rkja1L0aQ5Vy7ezAAvR2JOabVjdgXb06xloQD1WJyoWou5Fm6SuAEeUZhWZK42ZLLaGqkWfj7UUGG0tlg/Yr1E/xh6jGzHERGk1sAZfa5BThBA/+d+h5ccY4l97yZypDRvntjTTS5BSiBpVGbAPnZBBdZ/kbw2zGy7Fgk9bnIshvMD86QA8RcWbpeUkW2Kpkaw7peO01uAZTJedj7mBb+1vYd/KFXl1MYsohaz0iQlaFhSAC2Nw07QZ7UdyBYhoF1gjy5D3mROsi9YpaTmsO6EqLNewCP8CFY1754QAhJiJYhIVFsXWTZEoV8jCw7Fkl9LrJsicHF21LlLPlo0ge2TkYA3wG4yysGiWSfW4AV4fCy+8CVZUJ0cbkFKAEtQ0Ki2EpCmp7Czfz7HnlCIY4zeaYoF6HMna/Ygx/aEJZ8PLmSXR+/wEeZ2meWg8SzVy7vWlfgO/jzb01eMVaLyy0AISWgZUg8QbZ6G3oIuYHueQFNLHZhSgpzS0hNPMDvQnSZ5SDlkXslPsdh1R7AzxnqDWEEd32X0OQWgBBAz5AAbM5JSAyPXOcFJAZM6DkJJ8iT+jwIIaVxvFP0AX4XgkoJOUVuQyJ1/T38oepS+QT/vr5F3bu+uUN/NpnrJwSATvjXid/hD3RdwgWWWfJ5gelm6UsfCRdYpqS9Y2CZEqS3ZNfIfsFvl4QsJnb88urPv4K7dGtDey7aIu+5siZhXR3KMyJG+Hn08+HPub41e+XyGuXyQsltyBC60ALQNSRGzCvWgFeuR2GZczsSuQ8df8LlSTv0/gw38+9WCv9PoDJ2itwrmeQ0D/DRmMg60b6xN2cc/A3SKZxb5HNnGuG/TX/gxdV5j7IUrb1yebnP3qSq/wE8D3KOfW4BSkDTkAD8ZDL3AXDQi3qUOwzqZ8yv/txAHs9/TnGlWxMJQfKh2VsLQUggFjsSuXAJ6+oT1fMA/y16gPweqRLYK5c3GYna5UpJNa7/pVzeW3DhclVonpEAZIq99JyE5HxBCTsSc0jPSThBnlFY1mv2Eb8hntwrTkuR7KjsrYUgJBD5e8tUAAARt0lEQVRtd8IG+dxQYu9PCqWF7Xw1wt/L8g+8BDX4hLrmj71Bmc6gTAmaO3ZzrNXtmSihbUhIFGsnLGsu3x75JzFJtCrJTgMwb3BIQs6eQnKrahNR7jVQs2tTk1sAQiLZG5TpDMqUkErhs3JpesDLweg71K9UahupqQzFY2IvvI1Bu89q/q6SE2gbEnvIPgJzk2uD+dWVUVBPCiTuRk4hzygo4xSSib+JLHvt5PStXkojyDMay0BIDHvoK6wpFa8JhzRzq1U9d/C7D6NB2bnYK5d3g/SK8QZpdyT2yuXVvtNPjtA2JACdMLBOUEYp5wU03JucoIzY9kpWE2pWmC1pcguwAJdbAEIWoL0KeoP07/M/E9VjYSTdwbsyrY0/lMtLrdQD6Y2XPXQNe0abWhkWhoTGCn2uMKgxSCIpuYX/DsS3dy/I00SWvXZqXjmRGIe5gxUQcg6LsZkyopFDOgXTKZe3RzojIvUcOxqUmXJcbRLXN6Fp2Nf8XSUnyLUjMXduYG4CHlGWr+Y48+8NLr88c4bTHvHbi5Lf8cU+j8stQCSM2ERqZjQos0W6RZOUyp72/P2TcnmXSO0WNBqU2SDd3R3vkWfhT9Owl54bJZVgYUhIDwW7M39fYxjUJbswmwv/NrE0OtUoyDMnw7XicgsQQQPZxybHZXstyrswi5THaFRuihCp75Fu3tA2Ip6QLhpiLmVyNCjzFvbtyXlPiPaYSO0ORgzRvkdi4jNk7kunBqdkgI2B8lgzCvJ8D+DDib93gt8uXQ2QXCjzPcrr10ts4SfvSzxg+eparqgcS3CCPJKIY5o0AD7iRfFJqbCQOvkEfYXDwSv6p+ZiDSTzkibaymvKOSHXTvjv0Df0NvBGqtVFmRv4+TMXkwu31nj7Hv4cTi6cQhl7cFfflC2A55l0f+a3w8zvHi0FX8A95tt8ilvB75a+vDeCOs49j1J5j/k2XVp9nPutZv+n5iPm25Tyo3QD/96+rr9LWH8JOISNubk0JJV+fl4OTU5QZ6tc5+vURvTBHFv8dZxrp+6oTsncvqR8Szpl2aXjqjGod0p9eDfMsoFMv1iSBoEcvXKdTURfaKD1zrSJ5S4WC9cmQHYA+ZQLUwo3HytGQZ5Tq2tOUO7S8yCjIM8WdR26/lGQR8uvs6ZtWGkUkVQHrW/hjZbajDGSH8u5voeuInADr4ylHuc1n2/LEZIX8KvIo1HZLXSNiQZ+XJXwnH9TLu9n5fJS11uqLpocK0MCkHXyscLjBL8pNdKM5JzEm6P/32B+gtBor9SNpVWoKwUNZBOr1oueKoyjBlKjx3oSbOBX0d4b10PWyxNs3R96LHdD2oDGcgxb5FWOtZXi17Twyn+zsJz38HNoCUYE4I2vvWJ5LdKfQeyg0593KCvgz2ppEb4NKNk6K3myntvW3h3ll2yxaU0iElegY/lKpcN8W+ZctUK3MZ1uE8yQbIFbu7GdcmU6Tp2xDKXhoOsWMCSVPo9rEyBzk12adghfRNnAz6nWrkxz702nXH4ql0eJ+6XluALsn90j/PMJ1Vmm3a2U42oQyibRI0LSDul0ulZRbpdI5qungWwQvWY3k790P37J5Ni8yj93PkLzPEgjkO0ZdexKzI2TZ8yvhIdOHL12IwxwkLXFcpdAcubnGTQklqYhqfT5DAmLus+lHV5cno7la/ByUNtKCY55b5xBH1ijLXPsuOoM5ThOH/ESzeu14jy5c7fwY2+XUKbXaRD22Qb6Btg97I2JVlHeFO8IeYVkdbQ55G0EebtUgkfSYr4N7av8c5NGryyf5HmU/pK0kL3szUw5MROIU2yHBQN0+iaGBmEHAjsDGUrGQffjOySVPq8h4ZTrrjl1CfrGnX0Sy9nAVlkOkd1CKa41DQH91hnUfw+7M5rSxS1pao3krBar8K8TI+Zdcxy8v5nEt7v0wy2jIM8U9qzB/IujfR7kV8wbJw38RNEp163Fz4I8n2ATlu1nlBsi10H2EbXomxv4cRWyqvQ1yjfMJKQOo3uNjLAJBbsGLPy0bwF8Z1DuBjpnB7R4gg8PPvdNJF/yAf7coOYuwhbemPgJeueiHPxY1jxjskfesLVXieQMwPQSz20Xlxr29ZgdZO1oZ/I9Q3/Cla7APBrUrUEH2YqBROGIXY0o8fBwyCqfU65be7WnxrTD/JhzynUOM/VpMyjKHjMOG3D1+BmnF3gs6unPPYhIGtiHMI0ZV0D68wglpiGwzzpDWXbw+lGsoeJg90zbSJnIQiSDBpj/SOS8jCUEiWLlMH+w3Oo8SCeQz7L+WBrIFIndmd8fEzuRPKKcKBoTUmU+9GNxiQZpFIOaUn+hv5xyXZrPUsKgKPsz4hS+VlmGGlN3ol+0n83r8ayx6pzyULqLkK9JKF+paYjotxTz/wA/5m9w+tmmPGOyi+gjooTkYJokEkCbWO5YJLswt5gf8Fa3o4b4hfZGMsQgnbRaYXlLJpQUh8OkhFyu4xTrvPYP77l0bsfKKdcznKnHikFR9iVjsVeWI0XSlLk70SeWu4JT5KHm5NM4zwZ+Lt4ZyqY5rtrEcpY2roaIPksRUa2k5CL6iCghMRIkSkmTWO4lzLVlJ8hj6Q/cCeqfUmsohxTphLkLKHOurLk6SzAmQm7S1drRoyvT5XTOLdAp1zOcqMOSQVH2Z8R/lFPc8quZOui6gXQn+iSVQreDn0emNk2rxDev/q7P/Hzcif6R0meUOzQN0J1Thsg+6wroixSpFo+Y1aIxyZXmZjOHRnhAa3YBsrQJ5DlHSNxqF1DuXFkd5pWnnMZEiBGhcealQV0KXM50alfCKdcxnKjDkrl3ITS5BbLUYkxMz6hTLLM70ye7AtpbQnJn+kdKX0Ab5tI0nzvFMocFfZYzHHKKtEP+RcOisbzZeuIBy6PEjMvFSMrSaEujhhAzvAvI28PO1eoS7wPq/QT9fpvroy3yRCGZ6pVObr9g2Ts4RdQo7WxIqXyfW4CV8wTgLcqOlvUA4IeE9f2SsK6ScQt//w7lR+V5C5uohLG8Q9nv4lJ+AG+xvkgKQwJYruD9riFEQpaGqU3R3hFhH5/pIqYUlvkGYcbLE8IMIyl7+FB3l5iU7FShKVuE7YR8wnwb5ugD6iMkBSUbE3v4+Sil8nGHspTLminZmChRaZ/exTUq2yX299USciD0VKqRHeLbm3LlN9RF4BG2SrOLkMlF1DNXZnfIFxJa1dLQ2iB8C1nL9YoHq8PScKIPXYI6LBkUZX+G7sHFks7tnHrnOsXyuwv94Apof+7UX+ifUFqUM/edihboFMsflnTUgRB32xpSq9AnV0ENOxKlX0J3jli590hrAYeu6k0K7QBdZcC9KjfEkPoJtq5gT5Bvbd7AGx0d9NydNofydggz4KZdGo1VojuFMq6JfW4Broyf4N/RfWY5PiDvyuyI5buPqdHuq0axrDv4i/lGxTJjGOHlKH1l/AHANyhfTgmaF+MRRWIPx5V4AZiE2F2YPoOsS1YS7uGfURNZ73vEj40lfTVXdneUv42Q7+Phd02EfNNt0THPxeKui5BD79ee3In+c8p1DCfqsGRQlP1cHy1lMrpTr4oOM+3pFOvqBP1Qw0H0Z7ycu9IcWztB/8TQIv2B9kdcXhV3inUNUb1ympjd85JSq9gXV8HfE9b1O+KUm2vbkVh6UDuGB/iVtB7hz2h7SLfwK4J7fNmGJ3y51f81XiJOLOEONuciLtUHhBkvN3jZRdjjdN8AL/2j0TdWvuMf4FfGYsbINTEi/wrmtfIEr2h/gDd8/wnbsz0jgF9R3jfqLcJ3dlMz4mWnV3NXooF/5to7HXeH1AL4GbYBNvbw4+oOdZ47mHbxQ4KllMAeXu417KisFodyVhdSMSC8zTkPtdYSVjFEmT/HXB3dmd+1KNcP9B5pIkiV5JNeUnrE+ffXKdc1nKnHikFR9meku9yphV8d1Xpn7+HHfxMgQ6dU9zNkOxJA2avCx23Q7J9npAl8MS2e7ZRkfoT/rrkAGZxS3c+wm08a2N28rpluwYAi1RA6mddkzZ4i1B2klPsySlYUW6U2ztXTXfjtFuXFbe+RdiJ0KK8PcqYBl/vfGdSXkkFR9mfkuSV2cqW8hW/P3PjdHfLdIt5FEdBVlF3GujXG7KldEqdcT2q9oYEfHx18G+cW4x4P+Xr48Ri7c+Rm6glJfaQMUlqU+b0YwBurF5PStQnw25khqwU53Hw0GY3zW/ETvCtaj3JuFH9AOaHYHuAPv/2M/Gd49vDPK7V7xQjfBz3iVgD3yH84VoMH+HdlzCwHmecBZcwfKengXWR65FOYRvhQ4+OZf9d+Ji38nJiKPeo/mPuncfl3SOcaJmHE5TFJCqZFmLW4BkKscJdHxIu8R15Xnh1sDj/N1dsJy9E+LChNjwcZS9iOvUH4GOlyCJoRB/2VtJRoj3GXVPq8aPadWyCHQzp3p8lVR7rarj2+Wnm3VItmAIwurehwiA8msmRM3qLss0NVkmNHwiJvyYyQT2qjmRTxfMDLSsI/kW4l4QEvB85KZjqo7uD7x9o/9wm+Xz6gnIN4n+DH7kdcl4IYwjROtEj97H+CrtF6bTsDWowLfzvCz+E38Dewu4XyHJf/GXEBB95B99tSytxoSc3v43hI7+DH4hv4sait5D8c6uGusSFfZajTCfPtsQ7XhwayCfIJdXxctwB+hH/5G+WyJzeRT7DvCzfz73vEjb8Gvm9+hN6k+ATfJ1PflMx7+K3ruY/cL7i+XQlynTwrlmXxzXbwc9XXeJmztjj9Dj/gJdLSH3i596iGb9faGKBnCL5FGYr2Bi+RIDfwBgZwWY+axiTgDdlJlxqNZCRH5DAkyHpo8PLSTy+8E/xu/yr9Cf/Cv54M1sIGLx/pN3iZJC+xx8vH+XXf1MQW824NNCTINbCFXhCNEbq7WqRuLkWJC4W6ICGEkOLoUI5PLiE56KDn492nFZ0UzBZ642qXWHayMv6WWwBCyGrp4FdQ93nFIJXSof4DuD8qlvWHYlnXjIPuuPqYVHqP5riqbcebFAYNCUKIJSN8mNi7o79fmxsb0Ud7jHyvXN4cDrrnyKjw6aA9rpxyeXNsoGsU00AlhBBSBTfwBwQ/ooywtaRsHPRDQDYJ5R+UZSd6aI+rNqHsnbLsLqHshBBCCCFJaKCv8PWJZL9RljuH+8yambt9OjTtEsm9ge7dC4+J5CaEEEIISc4O+saE9YVU2sreM67jgrWU9NAfV+8TyK19oWCfQGZCCCGEkCxYKHw72LnWbaC/2s1VY320d4xSGKmdgbzOUF5CCCGEkKxYKXz30D8vYWFEPIOhki2w2DWajD5nIG9nIOtgICchhBBCSFHsYGNMPELPHcUZyal56Rj5kh424+oZwC10nlsD/UP7U3IK8hFCCCGEFE0LO4XvGd4A6BC3QzFFIrOSrYuQichoYDuuHuGNlRh3py1sDZ0hQiZCTsJr0QkhhJTODmlCtz4c0p/wd6Acs4FX8r6FX9G13C14gL+DhdjRI81B9if48fQH/HM9dZeFA/A19O8fOcU34EWhhBBCCLkSHGxXj0tM1tGliN1ZiZJTiuhShBBCCCFFcYv8Sliq1Op0GRFgdaC/xMT7SAghhBBytVhERSot9Wq9RaR0yP/crdM9eHCfEEIIIVeMVYjVUhKNiHz0yP/8aUQQQgghhBiyVmOCRkR+1mhM0IgghBBCCHnF2oyJVrV3yBLWZEz0oBFBCCGEEHKS2g9g34PRmUqkRd3RnB5B45QQQgghZJYb2N1+bZk6cLW4ZLawvWzQKn1EmjtXCCGEEEJWwQZeMa9hFbkHFb2aaFGHoXoPf98KIYQQQgiJoIF3dyrRoOhBRa9mWpRpUNyDbkyEEEIIIWps4G/wzX0gewdv2DSmrSUpuYF3H8o5rh5Bw5QQQgghxJwG3qgYkEbJG+DdrHiIet1s4HcCPiLNDtgO3ni4SdA2QsR8lVsAQgghJCEOXsn/Ft7I2CLu0PMDgCcAnw//fQAwaghIqmR7SA2AN4f/NhHl7F+lP+HH1DTWCCkOGhKEEEKITPEbzaUga8TN/Pv+kAipjv8P/YLIPkdPWwkAAAAASUVORK5CYII\u003d"
  },
  "description": "Send Events to WebEngage Endpoint from GA4 stream",
  "containerContexts": [
    "SERVER"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "api_host",
    "displayName": "API Endpoint - Host Base URL",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "licenseCode",
    "displayName": "WebEngage License Code",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "apiKey",
    "displayName": "WebEngage API Key",
    "simpleValueType": true
  }
]


___SANDBOXED_JS_FOR_SERVER___

// ---------- WebEngage API Server-Side Events Ver.1.0----------

const getAllEventData = require('getAllEventData');
const JSON = require('JSON');
//const logToConsole = require('logToConsole');
const sendHttpRequest = require('sendHttpRequest');

const eventData = getAllEventData();
//https://api.webengage.com/v1/accounts/~47b65c2a/events
let baseURL = data.api_host; //'https://api.webengage.com';
let apiVersion = '/v1/';
let licenseCode = data.licenseCode; //'~47bXXXXX'
let apiKey = data.apiKey; //'Bearer 8fc1e68c-6b92-xxxx-Xxxx-0e646fa0bbda'
let postUrl = baseURL + apiVersion + 'accounts/' + licenseCode + '/events';

var userAgent = eventData.user_agent? eventData.user_agent: eventData.event_source;

let postBody = mapEvent(eventData, data);

sendHttpRequest(postUrl, (statusCode, headers, body) => {
    if (statusCode >= 200 && statusCode < 400) {
        data.gtmOnSuccess();
    } else {
        data.gtmOnFailure();
    }
}, {headers: {'Authorization': apiKey, 'User-Agent': userAgent, 'content-type': 'application/json'}, method: 'POST'}, JSON.stringify(postBody));


function mapEvent(eventData, data) {
    let mappedData = {
			"userId": eventData.user_id,
            "eventName": eventData.event_name,
			"eventData" : {
							"transaction_id": eventData.transaction_id,
							"userId": eventData.user_id,
							"event_value": eventData.value,
							"phone": eventData.user_data['phone_number'],
							}
			};
   	return mappedData;
}


___SERVER_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "read_event_data",
        "versionId": "1"
      },
      "param": [
        {
          "key": "eventDataAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "send_http",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedUrls",
          "value": {
            "type": 1,
            "string": "specific"
          }
        },
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://api.webengage.com/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 1/8/2025, 6:44:10 AM